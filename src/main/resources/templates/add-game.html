<!DOCTYPE html>
<html lang="en"
      xmlns:th="http://www.thymeleaf.org">

<head th:replace="~{fragments/head}">
    <title></title>
</head>
<body>

<div>
    <nav th:replace="~{fragments/navbar}"></nav>
</div>

<div class="container text-white mt-5">
    <h2>Add New Game</h2>

    <form class="game-form mt-4"
          th:action="@{/games/add}"
          th:method="POST"
          th:object="${addGameDTO}">

        <!-- Title Input -->
        <div class="form-group">
            <label for="name">Title:</label>
            <input type="text"
                   id="name"
                   th:field="*{name}"
                   class="form-control"/>
            <p th:if="${#fields.hasErrors('name')}"
               th:errors="*{name}"
               class="errors alert alert-danger">
                Name is required.
            </p>
        </div>

        <!-- Description Input -->
        <div class="form-group">
            <label for="description">Description:</label>
            <textarea id="description"
                      th:field="*{description}"
                      class="form-control">
            </textarea>
            <p th:if="${#fields.hasErrors('description')}"
               th:errors="*{description}"
               class="errors alert alert-danger">
                Description is required.
            </p>
        </div>

        <!-- Price Input -->
        <div class="form-group">
            <label for="price">Price:</label>
            <input type="number"
                   id="price"
                   th:field="*{price}"
                   class="form-control"/>
            <p th:if="${#fields.hasErrors('price')}"
               th:errors="*{price}"
               class="errors alert alert-danger">
                Price is required.
            </p>
        </div>

        <!-- Genre Input -->
        <div class="form-group">
            <label for="genre">Genre:</label>
            <select id="genre"
                    th:field="*{genre}"
                    class="form-control">
                <option value="" selected hidden>Select a genre</option>
                <option th:each="genre : ${genres}"
                        th:value="${genre}"
                        th:text="${#strings.capitalize(#strings.toLowerCase(genre))}">
                </option>
            </select>
            <p th:if="${#fields.hasErrors('genre')}"
               th:errors="*{genre}"
               class="errors alert alert-danger">
                Genre is required.
            </p>
        </div>

        <!-- Thumbnail URL Input -->
        <div class="form-group">
            <label for="thumbnailUrl">Thumbnail URL:</label>
            <input type="text"
                   id="thumbnailUrl"
                   th:field="*{thumbnailUrl}"
                   class="form-control"/>
            <p th:if="${#fields.hasErrors('thumbnailUrl')}"
               th:errors="*{thumbnailUrl}"
               class="errors alert alert-danger">
                Thumbnail is required.
            </p>
        </div>

        <!-- Publisher Input -->
        <div class="form-group">
            <label for="publisherName">Publisher:</label>
            <select id="publisherName"
                    th:field="*{publisherName}"
                    class="form-control">
                <option value="" selected hidden>Select a game publisher</option>
                <option th:each="publisher : ${publishers}"
                        th:value="${publisher}"
                        th:text=" ${publisher}">
                </option>
            </select>
            <p th:if="${#fields.hasErrors('publisherName')}"
               th:errors="*{publisherName}"
               class="errors alert alert-danger">
                Publisher is required.
            </p>
        </div>

        <!-- Submit Button -->
        <button type="submit" class="btn btn-primary mt-4 add-game-submit-btn">Add Game</button>
    </form>
</div>

<div>
    <footer th:replace="~{fragments/footer}"></footer>
</div>


</body>
</html>
